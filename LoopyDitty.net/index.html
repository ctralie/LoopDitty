<html>

<head>
<!--External Libraries!-->
<script src="http://connect.soundcloud.com/sdk.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="libs/json2.js"></script>
<script type="text/javascript" src="libs/glMatrix-0.9.5.min.js"></script>
<script type="text/javascript" src="libs/webgl-utils.js"></script>
<script type="text/javascript" src="libs/numeric-1.2.6.min.js"></script>
<script type="text/javascript" src="libs/SCapi.js"></script>
<script type="text/javascript" src="libs/api.js"></script>

<!--My Scripts!-->
<script src="LoopDittyGL.js"></script>
<script src="EchoNestInteractor.js"></script>
</head>

<body onload="webGLStart();" text = "white" bgcolor = "black">

<table width = "100%">
<tr><td><center><h1>Loop Ditty Geometric Music Visualizer</h1><h2>By <a href = "http://www.ctralie.com">Chris Tralie</a></h2></center></td>
<td>
<table>
<tr><td><a href = "http://echonest.com/"><img src = "echoNestLogo.png"></a></td></tr>
<tr><td><a href = "https://soundcloud.com"><img src = "soundCloudLogo.png"></a></td></tr>
</table>
</td></tr>
</table>

<h2>NOTE: Web site is down, due to the dissolving of the <a href = "http://echonest.com/">EchoNest API</a>.  I will come up with something client side once I finish my <a href = "http://www.ctralie.com/Research">dissertation</a>.  For now, please enjoy a couple of <a href = "http://www.ctralie.com/Research/GeometricModels/">precomputed examples</a> </h2>

<BR><BR><BR><HR>
<b>Paste SoundCloud URL Below</b> (Nearly any song on <a href = "http://www.soundcloud.com">http://www.soundcloud.com</a> should work!  Though some randomly don't so try again if you get an error)
<table><tr>
<td><input id = "scurl" type = "text"></td>
<td><button type = "button" onclick = "querySoundCloudURL()">Submit</button></td>
<td><h3><p id = "pagestatus">Waiting for User Input...</p></h3></td>
</tr>
</table>
<b>Click and drag to rotate animation</b><BR>

<table>
<tr>
<td><canvas id="LoopDittyGLCanvas" style="border: none;" width="800" height="600"></canvas></td>
<td valign = "top"><h2>Examples</h2>

<button type = "button" onclick = "queryMotorhead()">Motorhead</button>
<button type = "button" onclick = "querySugarhillGang()">Sugarhill Gang</button>
<button type = "button" onclick = "queryTheBeatles()">The Beatles</button>
<button type = "button" onclick = "queryChiddyBang()">Chiddy Bang</button>
<button type = "button" onclick = "queryTI()">T.I.</button>
<button type = "button" onclick = "queryWizKhalifa()">Wiz Khalifa</button>
<button type = "button" onclick = "queryMissyElliot()">Missy Elliot</button>
<button type = "button" onclick = "queryMichaelJackson()">Michael Jackson</button>
<button type = "button" onclick = "queryEWF()">Earth Wind and Fire</button>
<button type = "button" onclick = "queryAerosmith()">Aerosmith</button>
<button type = "button" onclick = "queryRollingStones()">Rolling Stones</button>
<button type = "button" onclick = "queryDiannaRoss()">Dianna Ross</button>
<button type = "button" onclick = "queryHudsonMohawke()">Hudson Mohawke</button>
<button type = "button" onclick = "queryBodyLanguage()">Body Language</button>
<button type = "button" onclick = "queryDJNappy()">DJ Nappy</button>
<button type = "button" onclick = "queryBeeGees()">Bee Gees</button>
<button type = "button" onclick = "queryThePixies()">The Pixies</button>
<button type = "button" onclick = "queryTchaikovsky()">Tchaikovsky</button>
<button type = "button" onclick = "queryPeterGabriel()">Peter Gabriel</button>
<button type = "button" onclick = "queryBigSean()">Big Sean</button>
<button type = "button" onclick = "queryWillSmith()">Will Smith</button>
<button type = "button" onclick = "queryKevinLyttle()">Kevin Lyttle</button>
<button type = "button" onclick = "queryAlienAntFarm()">Alien Ant Farm</button>
<button type = "button" onclick = "queryVanillaIce()">Vanilla Ice</button>
</td>
</tr></table>

<p id = "trackinfo"></p>

<script>
SC.initialize({
  client_id: 'b302c6dd719d6e25ac23e4c34335272c'
});

</script>

<!--https://developers.soundcloud.com/docs/api/html5-widget!-->
<iframe id="sc-widget" src="https://w.soundcloud.com/player/?url=http://api.soundcloud.com/users/1539950/favorites" width="100%" height="150" scrolling="no" frameborder="no"></iframe>
<script type="text/javascript">
  (function(){
    var widgetIframe = document.getElementById('sc-widget'),
        widget       = SC.Widget(widgetIframe);

    widget.bind(SC.Widget.Events.READY, function() {
    });
	widget.bind(SC.Widget.Events.PLAY, function() {
		//When the sound starts playing, start refreshing the window
	  	console.log("playing");
	  	playIdx = 0;
	  	requestAnimFrame(function(){repaintWithSCWidget(widget)});
	});
	widget.bind(SC.Widget.Events.SEEK, function() {
		playIdx = 0;
	});
	
	widget.load("https://soundcloud.com/immy619/motorhead-ace-of-spades-1", {});   

  }());
</script>

<BR><BR>

<table>
<tr><td halign = "left">
Visitors: 
<!-- Start of StatCounter Code  -->
<script type="text/javascript">
var sc_project=10080846; 
var sc_invisible=0; 
var sc_security="007c3773"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="shopify
analytics" href="http://statcounter.com/shopify/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/10080846/0/007c3773/0/"
alt="shopify analytics"></a></div></noscript>
<!-- End of StatCounter Code -->
</td>
</tr>

<tr><td>Copyright <a href = "http://www.ctralie.com">Chris Tralie</a> 10/2014<BR></td></tr>

<tr><td colspan = 2>Special thanks to <a href = "http://paulbendich.com/">Paul Bendich</a>, <a href = "http://cms.math.duke.edu/harer/">John Harer</a>, Marshall Ratliff, and Derrick Nowak for conceptual help and inspiration.  Work supported in part by NSF Research Training Grant "Structure in Complex Data," <b>NSF-DMS 1045133</b>, an NSF "Big Data" Grant <b>NSF 447491</b>, and an NSF Graduate Research Fellowship</td></tr>
</table>

<BR><BR>
<b>Please share any interesting songs you find below (and what patterns you find interesting):</b>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'loopditty';
    var disqus_identifier = 'loopditty';
    var disqus_url = 'http://www.loopditty.net/index.html';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


</body>
</html>
